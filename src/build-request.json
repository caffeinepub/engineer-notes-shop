{
  "kind": "build_request",
  "title": "Retry failed deployment and make deployment failures actionable",
  "projectName": "Engineer Notes Shop",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-19",
      "text": "Retry the packaging/build and deployment to the Internet Computer network for the current project revision.",
      "target": "unknown",
      "source": {
        "messageIds": [
          "msg-2",
          "msg-3"
        ],
        "quotes": [
          "Deployment failed",
          "Retry"
        ]
      },
      "acceptanceCriteria": [
        "A new deployment attempt is executed for the current codebase without requiring code changes from the user.",
        "If the deployment succeeds, the app is reachable and the canister(s) install without errors."
      ]
    },
    {
      "id": "REQ-20",
      "text": "If the retry deployment fails again, capture and surface the full deployment error output (including the failing step and the underlying error message) in a way that a developer can act on, and propose the minimal code/config change needed to make the next deployment succeed.",
      "target": "unknown",
      "source": {
        "messageIds": [
          "msg-2",
          "msg-3"
        ],
        "quotes": [
          "Deployment failed",
          "Retry"
        ]
      },
      "acceptanceCriteria": [
        "The failure report includes: (1) the exact step that failed (e.g., build, bundle, canister install), and (2) the full underlying error text.",
        "A concrete fix is identified and specified (code/config change) that can be implemented to make deployment succeed on the next attempt."
      ]
    }
  ],
  "constraints": [
    "Use English for any user-facing text.",
    "Respect the existing single-actor Motoko backend architecture (all Motoko logic in backend/main.mo); only add backend/migration.mo if an upgrade requires it.",
    "Do not edit files under frontend/src/components/ui or any other frontend immutable paths listed in SYSTEM_CONTEXT."
  ],
  "nonGoals": [
    "Adding new product/storefront features beyond what already exists.",
    "UI redesign or new marketing assets as part of this retry unless required to fix the deployment."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}