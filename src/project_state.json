{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 17,
  "summary": "App to sell the user's engineering books and notes via a simple storefront with upload/listing, pricing, and purchasing.",
  "architectural_notes": [],
  "known_issues": [
    "Deployment failed during packaging/push to the network; user requested a retry.",
    "Admin/Product upload button is not available in the UI; needs to be enabled so the owner can upload product files.",
    "Admin/Product upload button still not available in the UI after the attempted deployment/build; fix not taking effect (possible build/deploy mismatch or UI condition/role gating issue)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-public-storefront-ui-that-lists-all-published-products-with-search-and-basic-filters-e-g-type-book-note-and-a-product-detail-page-with-description-price-and-a-clear-purchase-action",
      "title": "Create a public storefront UI that lists all published products with search and basic filters (e.g., type: book/note), and a product detail page with description, price, and a clear purchase action.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-add-authentication-in-the-ui-using-internet-identity-showing-different-navigation-actions-for-a-public-visitors-b-signed-in-buyers-purchases-downloads-and-c-owner-admin-manage-products",
      "title": "Add authentication in the UI using Internet Identity, showing different navigation/actions for: (a) public visitors, (b) signed-in buyers (purchases/downloads), and (c) owner/admin (manage products).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-create-an-admin-dashboard-ui-for-the-owner-to-manage-products-create-product-edit-fields-title-description-type-price-currency-publish-unpublish-delete-and-upload-replace-the-associated-file",
      "title": "Create an admin dashboard UI for the owner to manage products: create product, edit fields (title/description/type/price/currency), publish/unpublish, delete, and upload/replace the associated file.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-buyer-library-ui-for-signed-in-users-that-lists-purchased-products-and-provides-a-download-button-for-each-purchased-item",
      "title": "Create a buyer library UI for signed-in users that lists purchased products and provides a download button for each purchased item.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-use-react-query-for-all-backend-calls-products-purchases-entitlements-with-loading-error-states-and-optimistic-or-refetch-behavior-where-appropriate-after-mutations-create-update-publish-purchase-upload",
      "title": "Use React Query for all backend calls (products, purchases, entitlements) with loading/error states and optimistic or refetch behavior where appropriate after mutations (create/update/publish/purchase/upload).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-coherent-visual-theme-for-the-app-colors-typography-spacing-and-components-with-a-clean-technical-editorial-style-suitable-for-engineering-materials-enforce-the-theme-consistently-across-storefront-product-pages-admin-dashboard-and-buyer-library",
      "title": "Apply a coherent visual theme for the app (colors, typography, spacing, and components) with a clean, technical editorial style suitable for engineering materials; enforce the theme consistently across storefront, product pages, admin dashboard, and buyer library.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-include-static-marketing-brand-images-for-the-storefront-logo-and-a-hero-banner-illustration-and-render-them-from-frontend-static-assets",
      "title": "Generate and include static marketing/brand images for the storefront (logo and a hero/banner illustration) and render them from frontend static assets.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-clear-in-app-way-for-the-user-to-specify-what-they-want-to-update-by-adding-a-simple-request-an-update-action-in-the-ui-e-g-in-the-footer-or-header-that-opens-a-modal-with-a-freeform-text-field-and-a-copy-to-clipboard-button-so-the-user-can-share-exact-update-instructions",
      "title": "Add a clear in-app way for the user to specify what they want to update by adding a simple \"Request an update\" action in the UI (e.g., in the footer or header) that opens a modal with a freeform text field and a \"Copy to clipboard\" button so the user can share exact update instructions.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-frontend-data-hooks-and-pages-so-that-the-admin-dashboard-lists-all-products-including-drafts-for-management-and-file-uploads-while-the-public-storefront-continues-to-show-only-published-products",
      "title": "Update the frontend data hooks and pages so that the Admin Dashboard lists all products (including drafts) for management and file uploads, while the public Storefront continues to show only published products.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-buyer-library-ui-to-list-only-products-the-signed-in-user-has-purchased-and-ensure-each-listed-item-s-download-action-successfully-downloads-the-associated-uploaded-product-file-or-shows-a-clear-error-if-no-file-is-available",
      "title": "Update the Buyer Library UI to list only products the signed-in user has purchased, and ensure each listed item’s download action successfully downloads the associated uploaded product file (or shows a clear error if no file is available).",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-admin-dashboard-ui-to-include-a-clear-prominent-getting-started-set-of-action-buttons-that-guides-the-owner-through-the-sequence-create-product-upload-pdf-set-price-publish-using-explicit-button-labels-not-icon-only-controls-and-short-helper-text",
      "title": "Update the Admin Dashboard UI to include a clear, prominent “Getting started” set of action buttons that guides the owner through the sequence: Create Product → Upload PDF → Set Price → Publish, using explicit button labels (not icon-only controls) and short helper text.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-per-product-action-controls-on-the-admin-dashboard-so-the-owner-can-clearly-see-and-execute-the-key-actions-for-selling-upload-pdf-edit-including-price-and-publish-unpublish-with-consistent-button-labeling-and-visibility",
      "title": "Improve the per-product action controls on the Admin Dashboard so the owner can clearly see and execute the key actions for selling: Upload PDF, Edit (including price), and Publish/Unpublish, with consistent button labeling and visibility.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-admin-only-call-to-action-on-the-public-storefront-page-that-clearly-directs-the-owner-to-the-admin-dashboard-for-uploading-and-publishing-products",
      "title": "Add an admin-only call-to-action on the public storefront page that clearly directs the owner to the Admin Dashboard for uploading and publishing products.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-retry-the-packaging-build-and-deployment-to-the-internet-computer-network-for-the-current-project-revision",
      "title": "Retry the packaging/build and deployment to the Internet Computer network for the current project revision.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-if-the-retry-deployment-fails-again-capture-and-surface-the-full-deployment-error-output-including-the-failing-step-and-the-underlying-error-message-in-a-way-that-a-developer-can-act-on-and-propose-the-minimal-code-config-change-needed-to-make-the-next-deployment-succeed",
      "title": "If the retry deployment fails again, capture and surface the full deployment error output (including the failing step and the underlying error message) in a way that a developer can act on, and propose the minimal code/config change needed to make the next deployment succeed.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-admin-dashboard-product-file-upload-control-so-that-an-admin-always-has-an-available-clickable-upload-or-upload-pdf-button-for-each-product-and-selecting-a-pdf-reliably-triggers-the-upload-flow",
      "title": "Fix the Admin Dashboard product file upload control so that an admin always has an available, clickable \"Upload\" (or \"Upload PDF\") button for each product, and selecting a PDF reliably triggers the upload flow.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-admin-dashboard-always-renders-a-visible-clickable-upload-pdf-button-for-every-product-card-regardless-of-product-status-draft-published-and-whether-a-file-is-already-uploaded-and-ensure-it-is-only-disabled-during-an-active-upload-for-that-specific-product",
      "title": "Ensure the Admin Dashboard always renders a visible, clickable \"Upload PDF\" button for every product card, regardless of product status (draft/published) and whether a file is already uploaded, and ensure it is only disabled during an active upload for that specific product.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-add-explicit-user-facing-diagnostics-on-the-admin-dashboard-when-the-upload-action-is-not-usable-due-to-authorization-or-data-loading-errors-e-g-admin-check-fails-admin-product-list-fails-so-the-user-understands-why-they-cannot-upload-and-what-to-do-next",
      "title": "Add explicit, user-facing diagnostics on the Admin Dashboard when the upload action is not usable due to authorization or data-loading errors (e.g., admin check fails, admin product list fails), so the user understands why they cannot upload and what to do next.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-the-upload-control-wiring-end-to-end-from-ui-interaction-to-backend-call-selecting-a-pdf-from-the-upload-pdf-button-must-trigger-the-upload-mutation-and-show-progress-and-on-success-the-product-s-file-status-must-update-to-uploaded-without-requiring-a-hard-refresh",
      "title": "Verify the upload control wiring end-to-end from UI interaction to backend call: selecting a PDF from the \"Upload PDF\" button must trigger the upload mutation and show progress, and on success the product’s file status must update to \"Uploaded\" without requiring a hard refresh.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Build a storefront app to upload engineering books/notes, set prices, and allow visitors to purchase/download.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Implement backend data models and APIs to manage digital products (engineering books and notes), including: create/update/delete product, list products for storefront, get product details, and store pricing and publication status (draft/published).",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Add backend support for uploading and downloading the actual digital files for each product (e.g., PDF), and restrict file access so only the owner (admin) can upload/replace files, while buyers can download only after purchase entitlement is granted.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Implement backend purchase flow and entitlements: allow an authenticated user to create a purchase record for a product at the current price, and grant that user an entitlement that unlocks the download for that product.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Implement an owner/admin role based on a single configured owner principal (the canister controller/installer by default) to control product management actions (create/update/delete/publish and file upload).",
      "reqIds": [
        "REQ-4"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Add backend APIs to support (a) an admin-only product list that includes draft/unpublished products, and (b) an authenticated user’s purchased product IDs (or purchased products list) so the frontend can show a correct buyer library.",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Add clearer, more prominent UI buttons to guide the owner through uploading notes and selling them (e.g., Admin Dashboard: Create Product, Upload File, Set Price, Publish; plus clearer navigation to Storefront/Library).",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Engineer Notes Shop",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}